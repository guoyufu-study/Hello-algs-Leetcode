<script src="https://cdn.bootcss.com/mathjax/2.7.7/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

## 0085. 最大矩形

[刷题](qu0085/solu/Solution.java)

### 问题描述

给定一个仅包含 `0` 和 `1` 的二维二进制矩阵，找出只包含 `1` 的最大矩形，并返回其面积。

示例:

输入:

```
[
  ["1","0","1","0","0"],
  ["1","0","1","1","1"],
  ["1","1","1","1","1"],
  ["1","0","0","1","0"]
]
输出: 6
```

来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/maximal-rectangle
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。

### 模板代码

``` java
class Solution {
    public int maximalRectangle(char[][] matrix) {

    }
}
```

### 解决方案

#### 1. 暴力枚举

枚举每个可能的矩形。

以一个元素作为左上顶点，另一个元素为右下顶点，构造矩形。

判断矩形内所有元素是否都是`1`。

如果是，则求其面积，并更新最大矩形面积。

时间复杂度：\\(\mathrm{O}(m^3 \cdot n^3)\\)，最坏情况下，我们需要遍历整个矩阵寻找每个`1`。

空间复杂度：\\(\mathrm{O}(1)\\)，没有使用额外的空间。


##### 暴力枚举（优化）

优化方案1。

* 左上顶点，以`1`开始，遇`0`跳过。
* 右下顶点
    * 向右走，遇`0`结束，更新最右侧边界。
    * 最右侧边界与最左侧边界重合时，不必再往下走。


时间复杂度：\\(\mathrm{O}(m^2 \cdot n^2)\\)，最坏情况下，我们需要遍历整个矩阵寻找每个`1`。

空间复杂度：\\(\mathrm{O}(1)\\)，没有使用额外的空间。


#### 2. 动态规划：使用柱状图的优化暴力方法

时间复杂度：\\(\mathrm{O}(n^2 \cdot m)\\)。

空间复杂度：\\(\mathrm{O}(m \cdot n)\\)，用了一个大小相同的矩阵 dp。


##### 动态规划（优化柱状图）

优化方案2。

参考[0084.柱状图中最大的矩形](0084.柱状图中最大的矩形.md) 。

时间复杂度：\\(\mathrm{O}(m \cdot n)\\)

空间复杂度：\\(\mathrm{O}(m)\\)，使用了一个一维数组 dp。
