<script src="https://cdn.bootcss.com/mathjax/2.7.7/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

## 0053. 最大子序和

[刷题](qu0053/solu/Solution.java)

与 [剑指 Offer 42. 连续子数组的最大和](../../sword2offer/剑指 Offer 42.连续子数组的最大和.md) 和

[面试题 16.17.连续子序列最大和](../../interview/面试题 16.17.连续子序列最大和.md) 完全相同

### 问题描述

给定一个整数数组 `nums` ，找到一个具有最大和的连续子数组（子数组最少包含一个元素），返回其最大和。

示例:

```
输入: [-2,1,-3,4,-1,2,1,-5,4],
输出: 6
解释: 连续子数组 [4,-1,2,1] 的和最大，为 6。
```

进阶:

* 如果你已经实现复杂度为 \\(\mathrm{O}(n)\\) 的解法，尝试使用更为精妙的分治法求解。

来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/maximum-subarray
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。

### 模板代码

``` java
class Solution {
    public int maxSubArray(int[] nums) {
        
    }
}
```

### 解决方案

#### 1. 暴力枚举（超时）

枚举所有可能的子数组，并求出每个子数组中元素的和。找出最大和。

[暴力枚举](qu0053/solu1/Solution.java)

时间复杂度：\\(\mathrm{O}(n^3)\\)。

空间复杂度：\\(\mathrm{O}(1)\\)。

[暴力枚举 - 简单优化 - 通过](qu0053/solu1/Solution.java)

时间复杂度：\\(\mathrm{O}(n^2)\\)。

空间复杂度：\\(\mathrm{O}(1)\\)。

#### 2. 动态规划 （推荐）

假设 `nums` 数组的长度是 `n`，下标从 `0` 到 `n−1`。

我们用 \\(a_i\\)​ 代表 \\(nums[i]\\)，用 \\(dp(i)\\) 代表以 \\(nums[i]\\) 结尾的「连续子数组的最大和」，那么很显然我们要求的答案就是：\\(\max_{i=0}^{n-1} \\{ dp(i) \\} \\)

因此我们只需要求出每个位置的 \\(dp(i)\\)，然后返回 `dp` 数组中的最大值即可。

考虑 \\(a_i\\)​ 单独成为一段还是加入 \\(dp(i - 1)\\) 对应的那一段，这取决于 \\(a_i\\)​ 和 \\(dp(i - 1) + a_i\\) 的大小，我们希望获得一个比较大的，于是可以写出这样的动态规划转移方程：

$$
dp(i) = 
\begin{cases}
dp(i - 1) + a_i, & dp(i-1) \ge 0 \\\\
a_i, & dp(i-1) \lt 0
\end{cases}
$$

时间复杂度：\\(\mathrm{O}(n)\\)，其中 `n` 为 `nums` 数组的长度。我们只需要遍历一遍数组即可求得答案。

空间复杂度：\\(\mathrm{O}(1)\\)。我们只需要常数空间存放若干变量。

[动态规划：状态压缩](qu0053/solu2/Solution.java)


#### 3. 贪心算法

如果以当前指针所指元素之前的元素作为结尾的「连续子数组的最大和」小于0，则丢弃当前元素之前的数列。

[贪心算法](qu0053/solu3/Solution.java)

#### 4. 分治（推荐）

这个分治方法类似于「线段树求解 LCIS 问题」的 `pushUp` 操作。

用于大规模查询的情况。

不仅可以解决区间 `[0, n - 1]`，还可以用于解决任意的子区间 `[l, r]` 的问题。

[分治](qu0053/solu4/Solution.java)

时间复杂度：\\(\mathrm{O}(n)\\)。

空间复杂度：\\(\mathrm{O}(\log n)\\)。

